<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/css/foundation-float.min.css'/>
	<style>
		@import url('https://fonts.googleapis.com/css?family=Ubuntu:300,400&subset=cyrillic');
		html, body {overflow-x:hidden;}
		body {background:#00af40; font-family:'Ubuntu',sans-serif; color:#fff;}
		img.logo {width:145px;}
		.lead {font-size:2rem; line-height:1; padding-left:4.1rem; margin:80px 0;}
		.slim {font-weight:300; line-height:1.2; font-size:.8rem}
		.slim a {color:#fff}
		.lang_switch {background:#fff; color:#00af40; text-align:center; cursor:pointer;}
		@media screen and (min-width: 40em) and (max-width: 63.9375em) {
			.lead {font-size:1.8rem;}
		}
		@media screen and (max-width: 39.9375em) {
			.lead {font-size:1.5rem;}
		}
	</style>
	<title>Подольский молочный комбинат</title>
</head>
<body>
	<div class="page_wrapper">
		<div class="row" data-lang="RU" data-valign>
			<div class="column small-12 medium-9 large-8 small-centered">
				<div class="row">
					<div class="column small-9 medium-10 large-11">
						<img src="./static/img/logo.png" class="logo" alt="Подольский молочный комбинат">
					</div>
					<div class="column small-3 medium-2 large-1">
						<div class="lang_switch">EN</div>
					</div>
				</div>
				<div class="row">
					<div class="column small-12">
						<p class="lead">Производство <br class="show-for-large-only">натуральных молочных продуктов <br class="show-for-large-only">на базе высоких технологий</p>
					</div>
				</div>
				<div class="row">
						<div class="column small-5 medium-4 large-3 end">
							<p class="slim">
								<a href="tel:+79175003967">+7 917 500 39 67</a><br>
								<a href="mailto:info@inkoro.ru">info@inkoro.ru</a>									
							</p>
						</div>
						<div class="column small-7 medium-5 large-4 end">
							<p class="slim">РФ,&nbsp;МО,&nbsp;Подольск,<br>ул.&nbsp;Железнодорожная,&nbsp;2, литера&nbsp;А37.</p>
						</div>
				</div>
			</div>
		</div>
		<div class="row hide" data-lang="EN" data-valign>
			<div class="column small-12 medium-9 large-8 small-centered">
				<div class="row">
					<div class="column small-9 medium-10 large-11">
						<img src="./static/img/logo_en.png" class="logo" alt="Подольский молочный комбинат">
					</div>
					<div class="column small-3 medium-2 large-1">
						<div class="lang_switch">RU</div>
					</div>
				</div>
				<div class="row">
					<div class="column small-12">
						<p class="lead">Production of natural dairy products<br class="hide-for-medium-only"> based on high technologies</p>
					</div>
				</div>
				<div class="row">
						<div class="column small-5 medium-4 large-3 end">
							<p class="slim">
								<a href="tel:+79175003967">+7 917 500 39 67</a><br>
								<a href="mailto:info@inkoro.ru">info@inkoro.ru</a>									
							</p>
						</div>
						<div class="column small-7 medium-5 large-4 end">
							<p class="slim">Russia,&nbsp;Moscow&nbsp;region,&nbsp;Podolsk,<br>Zheleznodorozhnaya str.,&nbsp;2, А37.</p>
						</div>
				</div>
			</div>
		</div>
		<div class="row" data-valign>
			<div class="column">
				<style>
					table {font-size:.8rem;}
					table tbody {background:transparent; border:none;}
					table tbody tr:nth-child(even) {background:transparent}
					table tbody tr:last-child {border-top:5px solid #fff;}
					table tbody tr.stripe {background:rgba(255,255,255,.2);}
					table input {border:none!important; box-shadow:none!important; background:transparent!important; border-bottom:1px solid #fff!important; color:#fff!important; margin-bottom:0!important; height:25px!important;}
					table tr {text-align:center;}
				</style>
				<table>
					<tr>
						<th></th>
						<th></th>
						<th>объём, упаковка</th>
						<th>срок годности</th>
						<th>цена</th>
						<th width="8%">кол-во</th>
						<th width="10%">итого</th>
					</tr>
					<tr class="stripe">
						<td>Молоко</td>
						<td>Пастеризованое, цельное 3,5-4,2%</td>
						<td>1л, ПЭТ</td>
						<td>5 сут.</td>
						<td>52.00₽</td>
						<td><input type="number" min="0" max="100" placeholder="0" /></td>
						<td></td>
					</tr>
					<tr>
					  <td>Кефир</td>
					  <td>Из цельного молока 3,5-4,2%</td>
					  <td>1л, ПЭТ</td>
					  <td>5 сут.</td>
					  <td>55.00₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr>
					  <td></td>
					  <td>Из цельного молока с облепихой 3,5-4,2%</td>
					  <td>300мл, ПЭТ</td>
					  <td>10 сут.</td>
					  <td>29.80₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr class="stripe">
					  <td>Творог</td>
					  <td>Традиционный, 18%</td>
					  <td>200гр, пластиковый конт.</td>
					  <td>14 сут.</td>
					  <td>53.60₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr class="stripe">
					  <td></td>
					  <td>Топлёный, 23%</td>
					  <td>200гр, пластиковый конт.</td>
					  <td>14 сут</td>
					  <td>63.50₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr>
					  <td>Сыр</td>
					  <td>Мягкий</td>
					  <td>140гр,<br>пластиковый стакан запайка / крышка</td>
					  <td>14 сут.</td>
					  <td>39.70₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr>
					  <td></td>
					  <td>Лабне мягкий, 10%</td>
					  <td>140гр,<br>пластиковый стакан запайка / крышка</td>
					  <td>14 сут.</td>
					  <td>39.70₽</td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr>
					  <td></td>
					  <td>Моцарела</td>
					  <td>кусок, вакуум</td>
					  <td>14 сут.</td>
					  <td></td>
					  <td><input type="number" min="0" max="100" placeholder="0" /></td>
					  <td></td>
					</tr>
					<tr>
					  <td></td>
					  <td></td>
					  <td></td>
					  <td></td>
					  <td class="text-right">Всего:</td>
					  <td id="total_summ"></td>
					  <td><button onclick="totalSumm()" class="button success">Оформить</button></td>
					</tr>
				  </table>
			</div>
		</div>
	</div>
</body>
<script>
	let $ = selector => document.querySelector(selector)
	let $$ = selector => document.querySelectorAll(selector)
	
	let vCenter = () => {
		$$('[data-valign]:not(.hide)').forEach(el => {
			el.style.marginTop = (window.innerHeight > el.offsetHeight)
				? window.innerHeight / 2 - el.offsetHeight / 2 + 'px'
				: ''
		})
	}

	let throttle = setTimeout(vCenter, 50)
	window.onresize = () => {
		clearTimeout(throttle)
		throttle = setTimeout(vCenter, 50)
	}

	let jsonp = (url, callback) => {
		let callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random())
		window[callbackName] = data => {
			delete window[callbackName]
			document.body.removeChild(script)
			callback(data)
		}
		let script = document.createElement('script')
		script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName
		script.onerror = () => console.error('Script error')
		document.body.appendChild(script)
	}
	jsonp('http://ipinfo.io', data => switchLang(data.country != 'RU' ? 'EN' : 'RU'))

	let switchLang = lang => {
		let selector = '[data-lang]'
		lang = lang || $(`.hide${selector}`).dataset.lang
		$$(selector).forEach(b => b.className = b.dataset.lang == lang ? 'row' : 'row hide')
		vCenter()
	}

	$$('.lang_switch').forEach(el => (el.onclick = e => switchLang()))

	let changeNum = e => {
		let input = e.target,
			val = input.value,
			price = parseFloat(input.parentNode.previousElementSibling.innerHTML),
			summ = input.parentNode.nextElementSibling

		summ.innerHTML = val * price + '₽'
	}
	
	let totalSumm = e => {
		let total = 0

		$$('table tr').forEach(i => {
			[].forEach.call(i.childNodes, node => {
				if(node.innerHTML){
					if(node.innerHTML.indexOf('input') != -1){
						let val = node.childNodes[0].value
						node.parentNode.style.display = val ? '' : 'none'
					}
				}
			})
		})
	}

	$$('input').forEach(el => {
		el.onchange = e => changeNum(e)
		el.onkeyup = e => changeNum(e)
	})

</script>
</html>